{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\n\nvar HeaderRenderer =\n/** @class */\nfunction () {\n  function HeaderRenderer(parent) {\n    this.parent = parent;\n    this.l10n = this.parent.localeObj;\n    this.renderHeader();\n    this.addEventListener();\n  }\n\n  HeaderRenderer.prototype.addEventListener = function () {\n    this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n  };\n\n  HeaderRenderer.prototype.removeEventListener = function () {\n    this.parent.off(events.documentClick, this.closeHeaderPopup);\n  };\n\n  HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n    var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n    var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n    var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n\n    if (this.parent.isAdaptive) {\n      if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') || closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') && this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n        addClass([contentWrap], cls.SCROLL_HIDDEN);\n      } else {\n        removeClass([contentWrap], cls.SCROLL_HIDDEN);\n        var popupEle = this.element.querySelector('.e-toolbar-pop');\n\n        if (!isNullOrUndefined(popupEle)) {\n          var popupObj = popupEle.ej2_instances[0];\n\n          if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') && popupEle.classList.contains(cls.POPUP_OPEN))) {\n            popupObj.hide();\n          }\n        }\n      }\n    }\n\n    if (!isNullOrUndefined(closestEle)) {\n      return;\n    }\n\n    this.hideHeaderPopup();\n  };\n\n  HeaderRenderer.prototype.hideHeaderPopup = function () {\n    if (this.headerPopup) {\n      this.headerPopup.hide();\n    }\n  };\n\n  HeaderRenderer.prototype.renderHeader = function () {\n    this.element = createElement('div', {\n      className: cls.TOOLBAR_CONTAINER\n    });\n    var toolbarEle = createElement('div', {\n      className: cls.HEADER_TOOLBAR\n    });\n    this.element.appendChild(toolbarEle);\n    this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n    this.renderToolbar();\n  };\n\n  HeaderRenderer.prototype.renderToolbar = function () {\n    var _this = this;\n\n    var items = this.getItems();\n    this.parent.trigger(events.actionBegin, {\n      requestType: 'toolbarItemRendering',\n      items: items\n    }, function (args) {\n      _this.toolbarObj = new Toolbar({\n        items: args.items,\n        overflowMode: 'Popup',\n        clicked: _this.toolbarClickHandler.bind(_this),\n        enableRtl: _this.parent.enableRtl,\n        locale: _this.parent.locale\n      });\n\n      _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n\n      var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n\n      if (prevNavEle) {\n        prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n      }\n\n      var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n\n      if (nextNavEle) {\n        nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n      }\n\n      _this.updateActiveView();\n\n      _this.parent.trigger(events.actionComplete, {\n        requestType: 'toolBarItemRendered',\n        items: _this.toolbarObj.items\n      });\n    });\n  };\n\n  HeaderRenderer.prototype.updateItems = function () {\n    var _this = this;\n\n    if (this.toolbarObj) {\n      var items = this.getItems();\n      this.parent.trigger(events.actionBegin, {\n        requestType: 'toolbarItemRendering',\n        items: items\n      }, function (args) {\n        _this.toolbarObj.items = args.items;\n\n        _this.toolbarObj.dataBind();\n\n        _this.parent.trigger(events.actionComplete, {\n          requestType: 'toolBarItemRendered',\n          items: _this.toolbarObj.items\n        });\n      });\n    }\n  };\n\n  HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n    if (this.parent.isAdaptive) {\n      return this.toolbarObj.element;\n    }\n\n    return this.element.querySelector('.e-date-range');\n  };\n\n  HeaderRenderer.prototype.setDayOfWeek = function (index) {\n    if (this.headerCalendar) {\n      this.headerCalendar.firstDayOfWeek = index;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarDate = function (date) {\n    if (this.headerCalendar) {\n      this.headerCalendar.value = date;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.min = this.parent.minDate;\n      this.headerCalendar.max = this.parent.maxDate;\n      this.headerCalendar.dataBind();\n    }\n  };\n\n  HeaderRenderer.prototype.getCalendarView = function () {\n    if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n      return 'Year';\n    } else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n\n  HeaderRenderer.prototype.setCalendarView = function () {\n    if (this.headerCalendar) {\n      var calendarView = this.getCalendarView();\n      this.headerCalendar.depth = calendarView;\n      this.headerCalendar.start = calendarView;\n      this.headerCalendar.refresh();\n    }\n  };\n\n  HeaderRenderer.prototype.updateActiveView = function () {\n    var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n    removeClass(selEle, ['e-active-view']);\n\n    if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n      addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n    }\n  };\n\n  HeaderRenderer.prototype.updateDateRange = function (text) {\n    var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n\n    if (selEle) {\n      selEle.setAttribute('aria-label', text);\n      selEle.querySelector('.e-tbar-btn-text').innerHTML = text;\n      this.toolbarObj.refreshOverflow();\n    }\n  };\n\n  HeaderRenderer.prototype.getDateRangeText = function () {\n    var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n      format: 'MMMM y',\n      calendar: this.parent.getCalendarMode()\n    });\n    return util.capitalizeFirstWord(dateString, 'single');\n  };\n\n  HeaderRenderer.prototype.getItems = function () {\n    var items = [];\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-prev',\n      tooltipText: 'Previous',\n      overflow: 'Show',\n      cssClass: 'e-prev',\n      htmlAttributes: {\n        'aria-label': 'previous period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      prefixIcon: 'e-icon-next',\n      tooltipText: 'Next',\n      overflow: 'Show',\n      cssClass: 'e-next',\n      htmlAttributes: {\n        'aria-label': 'next period',\n        'role': 'navigation'\n      }\n    });\n    items.push({\n      align: 'Left',\n      text: this.getDateRangeText(),\n      suffixIcon: 'e-icon-down-arrow',\n      cssClass: 'e-date-range',\n      overflow: 'Show',\n      htmlAttributes: {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'title',\n        'role': 'navigation'\n      }\n    });\n\n    if (this.parent.isAdaptive) {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive,\n        prefixIcon: 'e-icon-add',\n        text: this.l10n.getConstant('newEvent'),\n        cssClass: 'e-add',\n        overflow: 'Show'\n      });\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive,\n        prefixIcon: 'e-icon-today',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n    } else {\n      items.push({\n        align: 'Right',\n        showAlwaysInPopup: this.parent.isAdaptive,\n        prefixIcon: 'e-icon-day',\n        text: this.l10n.getConstant('today'),\n        cssClass: 'e-today',\n        overflow: 'Show'\n      });\n\n      if (this.parent.views.length > 1) {\n        items.push({\n          align: 'Right',\n          type: 'Separator',\n          cssClass: 'e-schedule-seperator'\n        });\n      }\n    }\n\n    if (this.parent.views.length > 1) {\n      for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n        var item = _a[_i];\n        items.push(this.getItemObject(item));\n      }\n    }\n\n    return items;\n  };\n\n  HeaderRenderer.prototype.getItemObject = function (item) {\n    var viewName;\n    var displayName;\n\n    if (typeof item === 'string') {\n      viewName = item.toLowerCase();\n      displayName = null;\n    } else {\n      viewName = item.option.toLowerCase();\n      displayName = item.displayName;\n    }\n\n    var view;\n    var orientationClass;\n\n    switch (viewName) {\n      case 'day':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-day',\n          text: displayName || this.l10n.getConstant('day'),\n          cssClass: 'e-views e-day'\n        };\n        break;\n\n      case 'week':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-week',\n          text: displayName || this.l10n.getConstant('week'),\n          cssClass: 'e-views e-week'\n        };\n        break;\n\n      case 'workweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-workweek',\n          text: displayName || this.l10n.getConstant('workWeek'),\n          cssClass: 'e-views e-work-week'\n        };\n        break;\n\n      case 'month':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-month',\n          text: displayName || this.l10n.getConstant('month'),\n          cssClass: 'e-views e-month'\n        };\n        break;\n\n      case 'year':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-year',\n          text: displayName || this.l10n.getConstant('year'),\n          cssClass: 'e-views e-year'\n        };\n        break;\n\n      case 'agenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-agenda',\n          text: displayName || this.l10n.getConstant('agenda'),\n          cssClass: 'e-views e-agenda'\n        };\n        break;\n\n      case 'monthagenda':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-month-agenda',\n          text: displayName || this.l10n.getConstant('monthAgenda'),\n          cssClass: 'e-views e-month-agenda'\n        };\n        break;\n\n      case 'timelineday':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-timeline-day',\n          text: displayName || this.l10n.getConstant('timelineDay'),\n          cssClass: 'e-views e-timeline-day'\n        };\n        break;\n\n      case 'timelineweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-timeline-week',\n          text: displayName || this.l10n.getConstant('timelineWeek'),\n          cssClass: 'e-views e-timeline-week'\n        };\n        break;\n\n      case 'timelineworkweek':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-timeline-workweek',\n          text: displayName || this.l10n.getConstant('timelineWorkWeek'),\n          cssClass: 'e-views e-timeline-work-week'\n        };\n        break;\n\n      case 'timelinemonth':\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-timeline-month',\n          text: displayName || this.l10n.getConstant('timelineMonth'),\n          cssClass: 'e-views e-timeline-month'\n        };\n        break;\n\n      case 'timelineyear':\n        orientationClass = item.orientation === 'Vertical' ? 'vertical' : 'horizontal';\n        view = {\n          align: 'Right',\n          showAlwaysInPopup: this.parent.isAdaptive,\n          prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n          text: displayName || this.l10n.getConstant('timelineYear'),\n          cssClass: 'e-views e-timeline-year'\n        };\n        break;\n    }\n\n    return view;\n  };\n\n  HeaderRenderer.prototype.renderHeaderPopup = function () {\n    var headerPopupEle = createElement('div', {\n      className: cls.HEADER_POPUP_CLASS\n    });\n    var headerCalendarEle = createElement('div', {\n      className: cls.HEADER_CALENDAR_CLASS\n    });\n    headerPopupEle.appendChild(headerCalendarEle);\n    this.element.appendChild(headerPopupEle);\n    this.headerPopup = new Popup(headerPopupEle, {\n      actionOnScroll: 'hide',\n      targetType: 'relative',\n      relateTo: this.getPopUpRelativeElement(),\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.parent.enableRtl\n    });\n    var calendarView = this.getCalendarView();\n    this.headerCalendar = new Calendar({\n      value: this.parent.selectedDate,\n      min: this.parent.minDate,\n      max: this.parent.maxDate,\n      firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      depth: calendarView,\n      start: calendarView,\n      calendarMode: this.parent.calendarMode,\n      change: this.calendarChange.bind(this)\n    });\n    this.setCalendarTimezone();\n    this.headerCalendar.appendTo(headerCalendarEle);\n    this.headerPopup.hide();\n  };\n\n  HeaderRenderer.prototype.calendarChange = function (args) {\n    if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n      var calendarDate = util.resetTime(new Date(args.value));\n      this.parent.changeDate(calendarDate);\n    }\n\n    this.headerPopup.hide();\n  };\n\n  HeaderRenderer.prototype.setCalendarTimezone = function () {\n    if (this.headerCalendar) {\n      this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n    }\n  };\n\n  HeaderRenderer.prototype.calculateViewIndex = function (args) {\n    var target = closest(args.originalEvent.target, '.e-views');\n    var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n    return views.indexOf(target);\n  };\n\n  HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n    if (!args.item) {\n      return;\n    }\n\n    var strClass = args.item.cssClass.replace('e-views ', '');\n    var data;\n    var isSameTime;\n\n    switch (strClass) {\n      case 'e-date-range':\n        if (!this.headerPopup) {\n          this.renderHeaderPopup();\n        }\n\n        if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n          this.headerPopup.hide();\n        } else {\n          this.headerPopup.show();\n        }\n\n        break;\n\n      case 'e-day':\n        this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-week':\n        this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-work-week':\n        this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-month':\n        this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-year':\n        this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-agenda':\n        this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-month-agenda':\n        this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-day':\n        this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-week':\n        this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-work-week':\n        this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-month':\n        this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-timeline-year':\n        this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n        break;\n\n      case 'e-today':\n        if (!this.parent.isSelectedDate(util.resetTime(this.parent.getCurrentTime()))) {\n          this.parent.changeDate(util.resetTime(this.parent.getCurrentTime()), args.originalEvent);\n        }\n\n        break;\n\n      case 'e-prev':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n        break;\n\n      case 'e-next':\n        this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n        break;\n\n      case 'e-add':\n        isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n\n        if (this.parent.activeCellsData && !isSameTime) {\n          data = this.parent.activeCellsData;\n        } else {\n          var interval = this.parent.activeViewOptions.timeScale.interval;\n          var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n          var msInterval = interval * util.MS_PER_MINUTE / slotCount;\n          var startTime = new Date(this.parent.selectedDate.getTime());\n          var currentTime = this.parent.getCurrentTime();\n          startTime.setHours(currentTime.getHours(), Math.round(startTime.getMinutes() / msInterval) * msInterval, 0);\n          var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n          data = {\n            startTime: startTime,\n            endTime: endTime,\n            isAllDay: false\n          };\n        }\n\n        this.parent.eventWindow.openEditor(extend(data, {\n          cancel: false,\n          event: args.originalEvent\n        }), 'Add');\n        break;\n    }\n\n    if (isNullOrUndefined(this.toolbarObj)) {\n      return;\n    }\n\n    var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n\n    if (toolbarPopUp && args.item.type !== 'Input') {\n      toolbarPopUp.ej2_instances[0].hide({\n        name: 'SlideUp',\n        duration: 100\n      });\n    }\n  };\n\n  HeaderRenderer.prototype.getHeaderElement = function () {\n    return this.toolbarObj.element;\n  };\n\n  HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n    var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n    var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n    var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n\n    if (prevNavEle) {\n      if (classType === 'add') {\n        addClass([prevNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([prevNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n\n    if (nextNavEle) {\n      if (classType === 'add') {\n        addClass([nextNavEle], cls.HIDDEN_CLASS);\n      } else {\n        removeClass([nextNavEle], cls.HIDDEN_CLASS);\n      }\n    }\n\n    if (dateRangeEle) {\n      if (classType === 'add') {\n        addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      } else {\n        removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n      }\n    }\n  };\n\n  HeaderRenderer.prototype.previousNextIconHandler = function () {\n    var dates = this.parent.currentView === 'Agenda' ? [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates();\n    var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n    var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n    var firstDate = new Date(dates[0].getTime());\n    var lastDate = new Date(dates[dates.length - 1].getTime());\n\n    if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n      firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\n      lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n    }\n\n    if (this.parent.currentView === 'Month') {\n      firstDate = util.firstDateOfMonth(this.parent.selectedDate);\n      var lastMonthFirstDate = util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1);\n      lastDate = util.lastDateOfMonth(lastMonthFirstDate);\n    }\n\n    if (!isNullOrUndefined(prevNavEle)) {\n      this.toolbarObj.enableItems(prevNavEle, firstDate > this.parent.minDate);\n    }\n\n    if (!isNullOrUndefined(nextNavEle)) {\n      this.toolbarObj.enableItems(nextNavEle, lastDate < this.parent.maxDate);\n    }\n\n    this.setCalendarMinMaxDate();\n  };\n\n  HeaderRenderer.prototype.getModuleName = function () {\n    return 'headerbar';\n  };\n\n  HeaderRenderer.prototype.destroy = function () {\n    if (this.headerPopup && !this.headerPopup.isDestroyed) {\n      this.headerPopup.destroy();\n      this.headerPopup = null;\n    }\n\n    if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n      this.headerCalendar.destroy();\n      this.headerCalendar = null;\n    }\n\n    if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n      this.toolbarObj.destroy();\n      this.removeEventListener();\n      remove(this.element);\n      this.toolbarObj = null;\n    }\n\n    this.element = null;\n    this.parent = null;\n    this.l10n = null;\n  };\n\n  return HeaderRenderer;\n}();\n\nexport { HeaderRenderer };","map":{"version":3,"sources":["/Users/Yana_Krupina/diplom/react_chat/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/header-renderer.js"],"names":["isNullOrUndefined","createElement","remove","closest","addClass","removeClass","extend","Toolbar","Calendar","Popup","events","util","cls","HeaderRenderer","parent","l10n","localeObj","renderHeader","addEventListener","prototype","on","documentClick","closeHeaderPopup","removeEventListener","off","e","closestEle","event","target","closestPop","contentWrap","element","querySelector","CONTENT_WRAP_CLASS","isAdaptive","classList","contains","POPUP_OPEN","SCROLL_HIDDEN","popupEle","popupObj","ej2_instances","hide","hideHeaderPopup","headerPopup","className","TOOLBAR_CONTAINER","toolbarEle","HEADER_TOOLBAR","appendChild","insertBefore","firstElementChild","renderToolbar","_this","items","getItems","trigger","actionBegin","requestType","args","toolbarObj","overflowMode","clicked","toolbarClickHandler","bind","enableRtl","locale","appendTo","prevNavEle","setAttribute","getConstant","nextNavEle","updateActiveView","actionComplete","updateItems","dataBind","getPopUpRelativeElement","setDayOfWeek","index","headerCalendar","firstDayOfWeek","setCalendarDate","date","value","setCalendarMinMaxDate","min","minDate","max","maxDate","getCalendarView","indexOf","currentView","setCalendarView","calendarView","depth","start","refresh","selEle","slice","call","querySelectorAll","length","viewIndex","updateDateRange","text","innerHTML","refreshOverflow","getDateRangeText","dateString","globalize","formatDate","selectedDate","format","calendar","getCalendarMode","capitalizeFirstWord","push","align","prefixIcon","tooltipText","overflow","cssClass","htmlAttributes","suffixIcon","showAlwaysInPopup","views","type","_i","_a","item","getItemObject","viewName","displayName","toLowerCase","option","view","orientationClass","orientation","renderHeaderPopup","headerPopupEle","HEADER_POPUP_CLASS","headerCalendarEle","HEADER_CALENDAR_CLASS","actionOnScroll","targetType","relateTo","position","X","Y","activeViewOptions","calendarMode","change","calendarChange","setCalendarTimezone","getTime","calendarDate","resetTime","Date","changeDate","timezone","tzModule","getLocalTimezoneName","calculateViewIndex","originalEvent","strClass","replace","data","isSameTime","show","changeView","undefined","isSelectedDate","getCurrentTime","activeView","getNextPreviousDate","activeCellsData","startTime","endTime","interval","timeScale","slotCount","msInterval","MS_PER_MINUTE","currentTime","setHours","getHours","Math","round","getMinutes","setMilliseconds","getMilliseconds","isAllDay","eventWindow","openEditor","cancel","toolbarPopUp","name","duration","getHeaderElement","updateHeaderItems","classType","dateRangeEle","HIDDEN_CLASS","TEXT_ELLIPSIS","previousNextIconHandler","dates","getCurrentViewDates","PREVIOUS_DATE_CLASS","NEXT_DATE_CLASS","firstDate","lastDate","getWeekFirstDate","addDays","firstDateOfMonth","lastMonthFirstDate","addMonths","lastDateOfMonth","enableItems","getModuleName","destroy","isDestroyed"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { isNullOrUndefined, createElement, remove, closest, addClass, removeClass, extend } from '@syncfusion/ej2-base';\nimport { Toolbar } from '@syncfusion/ej2-navigations';\nimport { Calendar } from '@syncfusion/ej2-calendars';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\nimport * as cls from '../base/css-constant';\n/**\n * Header module\n */\nvar HeaderRenderer = /** @class */ (function () {\n    function HeaderRenderer(parent) {\n        this.parent = parent;\n        this.l10n = this.parent.localeObj;\n        this.renderHeader();\n        this.addEventListener();\n    }\n    HeaderRenderer.prototype.addEventListener = function () {\n        this.parent.on(events.documentClick, this.closeHeaderPopup, this);\n    };\n    HeaderRenderer.prototype.removeEventListener = function () {\n        this.parent.off(events.documentClick, this.closeHeaderPopup);\n    };\n    HeaderRenderer.prototype.closeHeaderPopup = function (e) {\n        var closestEle = closest(e.event.target, '.e-date-range,.e-header-popup,.e-day,.e-selected');\n        var closestPop = closest(e.event.target, '.e-hor-nav,.e-toolbar-pop');\n        var contentWrap = this.parent.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(closestPop) && (closestPop.classList.contains('e-toolbar-pop') ||\n                closestPop.classList.contains('e-hor-nav')) && !(closestPop.classList.contains('e-hor-nav') &&\n                this.element.querySelector('.e-toolbar-pop').classList.contains(cls.POPUP_OPEN))) {\n                addClass([contentWrap], cls.SCROLL_HIDDEN);\n            }\n            else {\n                removeClass([contentWrap], cls.SCROLL_HIDDEN);\n                var popupEle = this.element.querySelector('.e-toolbar-pop');\n                if (!isNullOrUndefined(popupEle)) {\n                    var popupObj = popupEle.ej2_instances[0];\n                    if (popupObj && !(!isNullOrUndefined(closestPop) && closestPop.classList.contains('e-hor-nav') &&\n                        popupEle.classList.contains(cls.POPUP_OPEN))) {\n                        popupObj.hide();\n                    }\n                }\n            }\n        }\n        if (!isNullOrUndefined(closestEle)) {\n            return;\n        }\n        this.hideHeaderPopup();\n    };\n    HeaderRenderer.prototype.hideHeaderPopup = function () {\n        if (this.headerPopup) {\n            this.headerPopup.hide();\n        }\n    };\n    HeaderRenderer.prototype.renderHeader = function () {\n        this.element = createElement('div', { className: cls.TOOLBAR_CONTAINER });\n        var toolbarEle = createElement('div', { className: cls.HEADER_TOOLBAR });\n        this.element.appendChild(toolbarEle);\n        this.parent.element.insertBefore(this.element, this.parent.element.firstElementChild);\n        this.renderToolbar();\n    };\n    HeaderRenderer.prototype.renderToolbar = function () {\n        var _this = this;\n        var items = this.getItems();\n        this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n            _this.toolbarObj = new Toolbar({\n                items: args.items,\n                overflowMode: 'Popup',\n                clicked: _this.toolbarClickHandler.bind(_this),\n                enableRtl: _this.parent.enableRtl,\n                locale: _this.parent.locale\n            });\n            _this.toolbarObj.appendTo(_this.parent.element.querySelector('.' + cls.HEADER_TOOLBAR));\n            var prevNavEle = _this.toolbarObj.element.querySelector('.e-prev');\n            if (prevNavEle) {\n                prevNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('previous'));\n            }\n            var nextNavEle = _this.toolbarObj.element.querySelector('.e-next');\n            if (nextNavEle) {\n                nextNavEle.firstElementChild.setAttribute('title', _this.l10n.getConstant('next'));\n            }\n            _this.updateActiveView();\n            _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n        });\n    };\n    HeaderRenderer.prototype.updateItems = function () {\n        var _this = this;\n        if (this.toolbarObj) {\n            var items = this.getItems();\n            this.parent.trigger(events.actionBegin, { requestType: 'toolbarItemRendering', items: items }, function (args) {\n                _this.toolbarObj.items = args.items;\n                _this.toolbarObj.dataBind();\n                _this.parent.trigger(events.actionComplete, { requestType: 'toolBarItemRendered', items: _this.toolbarObj.items });\n            });\n        }\n    };\n    HeaderRenderer.prototype.getPopUpRelativeElement = function () {\n        if (this.parent.isAdaptive) {\n            return this.toolbarObj.element;\n        }\n        return this.element.querySelector('.e-date-range');\n    };\n    HeaderRenderer.prototype.setDayOfWeek = function (index) {\n        if (this.headerCalendar) {\n            this.headerCalendar.firstDayOfWeek = index;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarDate = function (date) {\n        if (this.headerCalendar) {\n            this.headerCalendar.value = date;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.setCalendarMinMaxDate = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.min = this.parent.minDate;\n            this.headerCalendar.max = this.parent.maxDate;\n            this.headerCalendar.dataBind();\n        }\n    };\n    HeaderRenderer.prototype.getCalendarView = function () {\n        if (['Month', 'MonthAgenda', 'TimelineMonth'].indexOf(this.parent.currentView) > -1) {\n            return 'Year';\n        }\n        else if (['Year', 'TimelineYear'].indexOf(this.parent.currentView) > -1) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    HeaderRenderer.prototype.setCalendarView = function () {\n        if (this.headerCalendar) {\n            var calendarView = this.getCalendarView();\n            this.headerCalendar.depth = calendarView;\n            this.headerCalendar.start = calendarView;\n            this.headerCalendar.refresh();\n        }\n    };\n    HeaderRenderer.prototype.updateActiveView = function () {\n        var selEle = [].slice.call(this.toolbarObj.element.querySelectorAll('.e-views'));\n        removeClass(selEle, ['e-active-view']);\n        if (selEle.length > 0 && selEle[this.parent.viewIndex]) {\n            addClass([selEle[this.parent.viewIndex]], ['e-active-view']);\n        }\n    };\n    HeaderRenderer.prototype.updateDateRange = function (text) {\n        var selEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (selEle) {\n            selEle.setAttribute('aria-label', text);\n            selEle.querySelector('.e-tbar-btn-text').innerHTML = text;\n            this.toolbarObj.refreshOverflow();\n        }\n    };\n    HeaderRenderer.prototype.getDateRangeText = function () {\n        var dateString = this.parent.globalize.formatDate(this.parent.selectedDate, {\n            format: 'MMMM y', calendar: this.parent.getCalendarMode()\n        });\n        return util.capitalizeFirstWord(dateString, 'single');\n    };\n    HeaderRenderer.prototype.getItems = function () {\n        var items = [];\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-prev', tooltipText: 'Previous', overflow: 'Show',\n            cssClass: 'e-prev', htmlAttributes: { 'aria-label': 'previous period', 'role': 'navigation' }\n        });\n        items.push({\n            align: 'Left', prefixIcon: 'e-icon-next', tooltipText: 'Next', overflow: 'Show',\n            cssClass: 'e-next', htmlAttributes: { 'aria-label': 'next period', 'role': 'navigation' }\n        });\n        items.push({\n            align: 'Left', text: this.getDateRangeText(), suffixIcon: 'e-icon-down-arrow', cssClass: 'e-date-range',\n            overflow: 'Show',\n            htmlAttributes: { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title', 'role': 'navigation' }\n        });\n        if (this.parent.isAdaptive) {\n            items.push({\n                align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-add',\n                text: this.l10n.getConstant('newEvent'), cssClass: 'e-add', overflow: 'Show'\n            });\n            items.push({\n                align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-today',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n        }\n        else {\n            items.push({\n                align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-day',\n                text: this.l10n.getConstant('today'), cssClass: 'e-today', overflow: 'Show'\n            });\n            if (this.parent.views.length > 1) {\n                items.push({ align: 'Right', type: 'Separator', cssClass: 'e-schedule-seperator' });\n            }\n        }\n        if (this.parent.views.length > 1) {\n            for (var _i = 0, _a = this.parent.views; _i < _a.length; _i++) {\n                var item = _a[_i];\n                items.push(this.getItemObject(item));\n            }\n        }\n        return items;\n    };\n    HeaderRenderer.prototype.getItemObject = function (item) {\n        var viewName;\n        var displayName;\n        if (typeof (item) === 'string') {\n            viewName = item.toLowerCase();\n            displayName = null;\n        }\n        else {\n            viewName = item.option.toLowerCase();\n            displayName = item.displayName;\n        }\n        var view;\n        var orientationClass;\n        switch (viewName) {\n            case 'day':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-day',\n                    text: displayName || this.l10n.getConstant('day'), cssClass: 'e-views e-day'\n                };\n                break;\n            case 'week':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-week',\n                    text: displayName || this.l10n.getConstant('week'), cssClass: 'e-views e-week'\n                };\n                break;\n            case 'workweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-workweek',\n                    text: displayName || this.l10n.getConstant('workWeek'), cssClass: 'e-views e-work-week'\n                };\n                break;\n            case 'month':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-month',\n                    text: displayName || this.l10n.getConstant('month'), cssClass: 'e-views e-month'\n                };\n                break;\n            case 'year':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-year',\n                    text: displayName || this.l10n.getConstant('year'), cssClass: 'e-views e-year'\n                };\n                break;\n            case 'agenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-agenda',\n                    text: displayName || this.l10n.getConstant('agenda'), cssClass: 'e-views e-agenda'\n                };\n                break;\n            case 'monthagenda':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-month-agenda',\n                    text: displayName || this.l10n.getConstant('monthAgenda'), cssClass: 'e-views e-month-agenda'\n                };\n                break;\n            case 'timelineday':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-timeline-day',\n                    text: displayName || this.l10n.getConstant('timelineDay'), cssClass: 'e-views e-timeline-day'\n                };\n                break;\n            case 'timelineweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-timeline-week',\n                    text: displayName || this.l10n.getConstant('timelineWeek'), cssClass: 'e-views e-timeline-week'\n                };\n                break;\n            case 'timelineworkweek':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-timeline-workweek',\n                    text: displayName || this.l10n.getConstant('timelineWorkWeek'), cssClass: 'e-views e-timeline-work-week'\n                };\n                break;\n            case 'timelinemonth':\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-timeline-month',\n                    text: displayName || this.l10n.getConstant('timelineMonth'), cssClass: 'e-views e-timeline-month'\n                };\n                break;\n            case 'timelineyear':\n                orientationClass = (item.orientation === 'Vertical') ? 'vertical' : 'horizontal';\n                view = {\n                    align: 'Right', showAlwaysInPopup: this.parent.isAdaptive, prefixIcon: 'e-icon-timeline-year-' + orientationClass,\n                    text: displayName || this.l10n.getConstant('timelineYear'), cssClass: 'e-views e-timeline-year'\n                };\n                break;\n        }\n        return view;\n    };\n    HeaderRenderer.prototype.renderHeaderPopup = function () {\n        var headerPopupEle = createElement('div', { className: cls.HEADER_POPUP_CLASS });\n        var headerCalendarEle = createElement('div', { className: cls.HEADER_CALENDAR_CLASS });\n        headerPopupEle.appendChild(headerCalendarEle);\n        this.element.appendChild(headerPopupEle);\n        this.headerPopup = new Popup(headerPopupEle, {\n            actionOnScroll: 'hide',\n            targetType: 'relative',\n            relateTo: this.getPopUpRelativeElement(),\n            position: { X: 'left', Y: 'bottom' },\n            enableRtl: this.parent.enableRtl\n        });\n        var calendarView = this.getCalendarView();\n        this.headerCalendar = new Calendar({\n            value: this.parent.selectedDate,\n            min: this.parent.minDate,\n            max: this.parent.maxDate,\n            firstDayOfWeek: this.parent.activeViewOptions.firstDayOfWeek,\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            depth: calendarView,\n            start: calendarView,\n            calendarMode: this.parent.calendarMode,\n            change: this.calendarChange.bind(this)\n        });\n        this.setCalendarTimezone();\n        this.headerCalendar.appendTo(headerCalendarEle);\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.calendarChange = function (args) {\n        if (args.value.getTime() !== this.parent.selectedDate.getTime()) {\n            var calendarDate = util.resetTime(new Date(args.value));\n            this.parent.changeDate(calendarDate);\n        }\n        this.headerPopup.hide();\n    };\n    HeaderRenderer.prototype.setCalendarTimezone = function () {\n        if (this.headerCalendar) {\n            this.headerCalendar.timezone = this.parent.timezone || this.parent.tzModule.getLocalTimezoneName();\n        }\n    };\n    HeaderRenderer.prototype.calculateViewIndex = function (args) {\n        var target = closest(args.originalEvent.target, '.e-views');\n        var views = [].slice.call(this.element.querySelectorAll('.e-views'));\n        return views.indexOf(target);\n    };\n    HeaderRenderer.prototype.toolbarClickHandler = function (args) {\n        if (!args.item) {\n            return;\n        }\n        var strClass = args.item.cssClass.replace('e-views ', '');\n        var data;\n        var isSameTime;\n        switch (strClass) {\n            case 'e-date-range':\n                if (!this.headerPopup) {\n                    this.renderHeaderPopup();\n                }\n                if (this.headerPopup.element.classList.contains(cls.POPUP_OPEN)) {\n                    this.headerPopup.hide();\n                }\n                else {\n                    this.headerPopup.show();\n                }\n                break;\n            case 'e-day':\n                this.parent.changeView('Day', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-week':\n                this.parent.changeView('Week', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-work-week':\n                this.parent.changeView('WorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month':\n                this.parent.changeView('Month', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-year':\n                this.parent.changeView('Year', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-agenda':\n                this.parent.changeView('Agenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-month-agenda':\n                this.parent.changeView('MonthAgenda', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-day':\n                this.parent.changeView('TimelineDay', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-week':\n                this.parent.changeView('TimelineWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-work-week':\n                this.parent.changeView('TimelineWorkWeek', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-month':\n                this.parent.changeView('TimelineMonth', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-timeline-year':\n                this.parent.changeView('TimelineYear', args.originalEvent, undefined, this.calculateViewIndex(args));\n                break;\n            case 'e-today':\n                if (!this.parent.isSelectedDate(util.resetTime(this.parent.getCurrentTime()))) {\n                    this.parent.changeDate(util.resetTime(this.parent.getCurrentTime()), args.originalEvent);\n                }\n                break;\n            case 'e-prev':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('previous'), args.originalEvent);\n                break;\n            case 'e-next':\n                this.parent.changeDate(this.parent.activeView.getNextPreviousDate('next'), args.originalEvent);\n                break;\n            case 'e-add':\n                isSameTime = this.parent.activeCellsData.startTime.getTime() === this.parent.activeCellsData.endTime.getTime();\n                if (this.parent.activeCellsData && !isSameTime) {\n                    data = this.parent.activeCellsData;\n                }\n                else {\n                    var interval = this.parent.activeViewOptions.timeScale.interval;\n                    var slotCount = this.parent.activeViewOptions.timeScale.slotCount;\n                    var msInterval = (interval * util.MS_PER_MINUTE) / slotCount;\n                    var startTime = new Date(this.parent.selectedDate.getTime());\n                    var currentTime = this.parent.getCurrentTime();\n                    startTime.setHours(currentTime.getHours(), (Math.round(startTime.getMinutes() / msInterval) * msInterval), 0);\n                    var endTime = new Date(new Date(startTime.getTime()).setMilliseconds(startTime.getMilliseconds() + msInterval));\n                    data = { startTime: startTime, endTime: endTime, isAllDay: false };\n                }\n                this.parent.eventWindow.openEditor(extend(data, { cancel: false, event: args.originalEvent }), 'Add');\n                break;\n        }\n        if (isNullOrUndefined(this.toolbarObj)) {\n            return;\n        }\n        var toolbarPopUp = this.toolbarObj.element.querySelector('.e-toolbar-pop');\n        if (toolbarPopUp && args.item.type !== 'Input') {\n            toolbarPopUp.ej2_instances[0].hide({ name: 'SlideUp', duration: 100 });\n        }\n    };\n    HeaderRenderer.prototype.getHeaderElement = function () {\n        return this.toolbarObj.element;\n    };\n    HeaderRenderer.prototype.updateHeaderItems = function (classType) {\n        var prevNavEle = this.toolbarObj.element.querySelector('.e-prev');\n        var nextNavEle = this.toolbarObj.element.querySelector('.e-next');\n        var dateRangeEle = this.toolbarObj.element.querySelector('.e-date-range');\n        if (prevNavEle) {\n            if (classType === 'add') {\n                addClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([prevNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (nextNavEle) {\n            if (classType === 'add') {\n                addClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n            else {\n                removeClass([nextNavEle], cls.HIDDEN_CLASS);\n            }\n        }\n        if (dateRangeEle) {\n            if (classType === 'add') {\n                addClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n            else {\n                removeClass([dateRangeEle], cls.TEXT_ELLIPSIS);\n            }\n        }\n    };\n    HeaderRenderer.prototype.previousNextIconHandler = function () {\n        var dates = (this.parent.currentView === 'Agenda' ?\n            [this.parent.getCurrentViewDates()[0]] : this.parent.getCurrentViewDates());\n        var prevNavEle = this.toolbarObj.element.querySelector('.' + cls.PREVIOUS_DATE_CLASS);\n        var nextNavEle = this.toolbarObj.element.querySelector('.' + cls.NEXT_DATE_CLASS);\n        var firstDate = new Date(dates[0].getTime());\n        var lastDate = new Date(dates[dates.length - 1].getTime());\n        if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            firstDate = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.firstDayOfWeek);\n            lastDate = util.addDays(firstDate, 7 * this.parent.activeViewOptions.interval);\n        }\n        if (this.parent.currentView === 'Month') {\n            firstDate = util.firstDateOfMonth(this.parent.selectedDate);\n            var lastMonthFirstDate = util.addMonths(firstDate, this.parent.activeViewOptions.interval - 1);\n            lastDate = util.lastDateOfMonth(lastMonthFirstDate);\n        }\n        if (!isNullOrUndefined(prevNavEle)) {\n            this.toolbarObj.enableItems(prevNavEle, firstDate > this.parent.minDate);\n        }\n        if (!isNullOrUndefined(nextNavEle)) {\n            this.toolbarObj.enableItems(nextNavEle, lastDate < this.parent.maxDate);\n        }\n        this.setCalendarMinMaxDate();\n    };\n    HeaderRenderer.prototype.getModuleName = function () {\n        return 'headerbar';\n    };\n    HeaderRenderer.prototype.destroy = function () {\n        if (this.headerPopup && !this.headerPopup.isDestroyed) {\n            this.headerPopup.destroy();\n            this.headerPopup = null;\n        }\n        if (this.headerCalendar && !this.headerCalendar.isDestroyed) {\n            this.headerCalendar.destroy();\n            this.headerCalendar = null;\n        }\n        if (this.toolbarObj && !this.toolbarObj.isDestroyed) {\n            this.toolbarObj.destroy();\n            this.removeEventListener();\n            remove(this.element);\n            this.toolbarObj = null;\n        }\n        this.element = null;\n        this.parent = null;\n        this.l10n = null;\n    };\n    return HeaderRenderer;\n}());\nexport { HeaderRenderer };\n"]},"metadata":{},"sourceType":"module"}